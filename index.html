<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Job Creator</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <div class="container">
    <h1 class="animated-title">MD Job Creator Tool</h1>
    <div class="upload-jobname-section glassmorphism">
      <input type="file" webkitdirectory directory multiple accept="image/png" id="fileInput">
      <button class="primary-btn" onclick="document.getElementById('fileInput').click()">
        <span class="material-icons">folder_open</span>
        Select Images Folder
      </button>
      <input type="text" id="jobName" placeholder="Enter job name" autocomplete="off" style="margin-left: 16px;">
    </div>
    <div class="option-block">
      <div class="checkbox-container">
        <label class="switch">
          <input type="checkbox" id="jobRanksCheckbox">
          <span class="slider"></span>
        </label>
        <label for="jobRanksCheckbox" class="switch-label">Make your job and ranks code</label>
      </div>
      <div id="jobRanksOptions" class="section-content">
        <div class="item-config">
          <h3>Job Configuration</h3>
          <div class="field-group">
            <div>
              <label for="jobLabel">Label</label>
              <input type="text" id="jobLabel" placeholder="e.g. Police">
            </div>
            <div>
              <label for="jobType">Type</label>
              <input id="jobType" type="text" id="jobType" placeholder="leo/ems/restaurant">
            </div>
            <div>
              <label for="defaultPay">Default Pay</label>
              <select id="defaultPay" >
                <option value="true">True</option>
                <option value="false">False</option>
              </select>
            </div>
            <div>
              <label for="defaultDuty">Default Duty</label>
              <select id="defaultDuty">
                <option value="true">True</option>
                <option value="false">False</option>
              </select>
            </div>
          </div>
          <h3>Grades</h3>
          <div id="gradesContainer"></div>
          <button class="primary-btn" id="addGradeBtn">Add Grade</button>
        </div>
      </div>
    </div>
    <div class="option-block">
      <div class="checkbox-container">
        <label class="switch">
          <input type="checkbox" id="cateringCheckbox">
          <span class="slider"></span>
        </label>
        <label for="cateringCheckbox" class="switch-label">Catering Enabled</label>
      </div>
      
      <div id="cateringOptions" class="section-content">
        <div class="item-config">
          <h3>Catering Settings</h3>
          <div class="field-group">
            <div>
              <label for="commissionInput">Commission Rate 
                <span class="tooltip">?
                  <span class="tooltip-text">Value between 0.0 and 1.0 representing commission percentage</span>
                </span>
              </label>
              <input type="number" id="commissionInput" step="0.01" min="0" max="1" placeholder="0.2">
            </div>
          </div>
          
          <h3>Vehicle Configuration</h3>
          <div class="field-group">
            <div>
              <label for="vehicleModel">Model <small>(vehicle type)</small></label>
              <input type="text" id="vehicleModel" placeholder="e.g. sultan">
            </div>
            <div>
              <label for="vehicleLabel">Label <small>(display name)</small></label>
              <input type="text" id="vehicleLabel" placeholder="e.g. Sultan RS">
            </div>
            <div>
              <label for="vehiclePlate">License Plate</label>
              <input type="text" id="vehiclePlate" placeholder="e.g. CATERING">
            </div>
            <div>
              <label for="vehicleLoc">Location <small>(vector4)</small></label>
              <input type="text" id="vehicleLoc" placeholder="e.g. 123.4, -321.5, 30.0, 180.0">
            </div>
          </div>
        </div>
        
        <h3>Catering Items</h3>
        <div class="grid-container">
          <div id="cateringItemsContainer"></div>
        </div>
      </div>
    </div>

    <div class="option-block">
      <div class="checkbox-container">
        <label class="switch">
          <input type="checkbox" id="closedCheckbox">
          <span class="slider"></span>
        </label>
        <label for="closedCheckbox" class="switch-label">Closed Shops Enabled</label>
      </div>
      
      <div id="closedShopsOptions" class="section-content">
        <div class="item-config">
          <h3>Shop Configuration</h3>
          <div class="field-group">
            <div>
              <label for="closedModel">Ped Model</label>
              <input type="text" id="closedModel" placeholder="mp_m_freemode_01">
            </div>
            <div>
              <label for="closedLabel">Shop Name <small>(must be unique)</small></label>
              <input type="text" id="closedLabel" placeholder="Unique Shop Name">
            </div>
            <div>
              <label for="closedLoc">Location <small>(vector4)</small></label>
              <input type="text" id="closedLoc" placeholder="vector4(123.4, -321.5, 30.0, 180.0)">
            </div>
          </div>
        </div>
        
        <h3>Shop Items</h3>
        <div class="grid-container">
          <div id="closedShopsContainer"></div>
        </div>
      </div>
    </div>
    
    <div class="option-block">
      <h3>Map Blip Configuration</h3>
      <div class="field-group">
        <div>
          <label for="blipSprite">Icon ID 
            <span class="tooltip">?
              <span class="tooltip-text">Numerical ID for blip icon</span>
            </span>
          </label>
          <input type="number" id="blipSprite" placeholder="80">
        </div>
        <div>
          <label for="blipColor">Color ID</label>
          <input type="number" id="blipColor" placeholder="2">
        </div>
        <div>
          <label for="blipScale">Scale <small>(0.5-2.0)</small></label>
          <input type="number" id="blipScale" min="0.1" max="5.0" step="0.1" placeholder="0.8">
        </div>
        <div>
          <label for="blipLabel">Display Name</label>
          <input type="text" id="blipLabel" placeholder="Business Name">
        </div>
        <div>
          <label for="blipLoc">Location <small>(vector4)</small></label>
          <input type="text" id="blipLoc" placeholder="vector4(123.4, -321.5, 30.0, 180.0)">
        </div>
      </div>
    </div>
    
    <!-- New Crafting Table Section -->
    <div class="option-block">
      <div class="checkbox-container">
        <label class="switch">
          <input type="checkbox" id="craftingCheckbox">
          <span class="slider"></span>
        </label>
        <label for="craftingCheckbox" class="switch-label">Crafting Table Enabled</label>
      </div>
      
      <div id="craftingOptions" class="section-content">
        <div class="item-config">
         
        </div>
        
        <h3>Crafting Recipes</h3>
        
        <div id="craftingRecipesContainer"></div>
        <button class="primary-btn" id="addRecipeBtn">Add New Recipe</button>
      </div>
    </div>
    <div class="option-block">
      <div class="checkbox-container">
        <label class="switch">
          <input type="checkbox" id="storeCheckbox">
          <span class="slider"></span>
        </label>
        <label for="storeCheckbox" class="switch-label">Store System Enabled</label>
      </div>
      
      <div id="storeOptions" class="section-content">
        <h3>Store Management</h3>
        <p>Create stores with different items and prices</p>
        
        <button class="primary-btn" id="addStoreBtn">Add New Store</button>
        
        <div id="storesContainer">
          <!-- Store sections will be added here dynamically -->
        </div>
      </div>
    </div>
    <div class="option-block">
      <div class="checkbox-container">
        <label class="switch">
          <input type="checkbox" id="locationCheckbox">
          <span class="slider"></span>
        </label>
        <label for="locationCheckbox" class="switch-label">Location System Enabled</label>
      </div>
      
      <div id="locationOptions" class="section-content">
        <h3>Location Management</h3>
        <p>Create locations for your job. You can add Crafters, Stores, Tills, Trays, and Stash locations.</p>
        
        <div class="form-group">
          <label for="locationTypeSelect">Select Location Type:</label>
          <select id="locationTypeSelect">
            <option value="">-- Select Type --</option>
            <option value="Crafter">Crafter</option>
            <option value="Stores">Stores</option>
            <option value="Tills">Tills</option>
            <option value="Trays">Trays</option>
            <option value="Stash">Stash</option>
          </select>
        </div>
        
        <!-- Crafter Form -->
        <div id="crafterForm" class="location-type-form" style="display:none;">
          <h4>Crafter Location</h4>
          <div class="checkbox-container">
            <input type="checkbox" id="crafterPropCheck" onchange="togglePropInput('crafterPropCheck', 'crafterPropContainer')">
            <label for="crafterPropCheck">Spawn A Prop?</label>
          </div>
          <div id="crafterPropContainer" class="form-group" style="display:none;">
            <label for="crafterProp">Prop:</label>
            <input type="text" id="crafterProp" placeholder="e.g. prop_crafting_table">
          </div>
          <div class="form-group">
            <label for="crafterType">Type:</label>
            <input type="text" id="crafterType" placeholder="e.g. joints, oil">
          </div>
          
          <div class="form-group">
            <label for="crafterTargetLabel">Target Label:</label>
            <input type="text" id="crafterTargetLabel" placeholder="e.g. Roll Weed" value="Roll Item">
          </div>
          
          <div class="form-group">
            <label for="crafterMenuLabel">Menu Label:</label>
            <input type="text" id="crafterMenuLabel" placeholder="e.g. Roll Weed!" value="Roll Item!">
          </div>
          
          <div class="form-group">
            <label for="crafterLoc">Location (vector3):</label>
            <input type="text" id="crafterLoc" placeholder="e.g. vector3(375.7, -824.38, 29.09)" value="vector3(0.0, 0.0, 0.0)">
          </div>
          
          <div class="form-row">
            <div class="form-group half">
              <label for="crafterL">Length (l):</label>
              <input type="number" id="crafterL" step="0.1" value="0.5">
            </div>
            
            <div class="form-group half">
              <label for="crafterW">Width (w):</label>
              <input type="number" id="crafterW" step="0.1" value="0.7">
            </div>
          </div>
          
          <div class="form-row">
            <div class="form-group half">
              <label for="crafterLwr">Lower (lwr):</label>
              <input type="number" id="crafterLwr" step="0.01" value="0.25">
            </div>
            
            <div class="form-group half">
              <label for="crafterUpr">Upper (upr):</label>
              <input type="number" id="crafterUpr" step="0.01" value="0.75">
            </div>
          </div>
          
          <div class="form-group">
            <label for="crafterR">Rotation (r):</label>
            <input type="number" id="crafterR" value="180">
          </div>
        </div>
        
        <!-- Stores Form -->
        <div id="storesForm" class="location-type-form" style="display:none;">
          <h4>Store Location</h4>
          <div class="checkbox-container">
            <input type="checkbox" id="storesPropCheck" onchange="togglePropInput('storesPropCheck', 'storesPropContainer')">
            <label for="storesPropCheck">Spawn A Prop?</label>
          </div>
          <div id="storesPropContainer" class="form-group" style="display:none;">
            <label for="storesProp">Prop:</label>
            <input type="text" id="storesProp" placeholder="e.g. prop_store_table">
          </div>
          <div class="form-group">
            <label for="storesType">Type:</label>
            <input type="text" id="storesType" placeholder="e.g. ingredients" value="ingredients">
          </div>
          
          <div class="form-group">
            <label for="storesTargetLabel">Target Label:</label>
            <input type="text" id="storesTargetLabel" placeholder="e.g. Open Shop" value="Open Shop">
          </div>
          
          <div class="form-group">
            <label for="storesMenuLabel">Menu Label:</label>
            <input type="text" id="storesMenuLabel" placeholder="e.g. Open Shop!" value="Open Shop!">
          </div>
          
          <div class="form-group">
            <label for="storesLoc">Location (vector3):</label>
            <input type="text" id="storesLoc" placeholder="e.g. vector3(374.57, -825.79, 29.05)" value="vector3(0.0, 0.0, 0.0)">
          </div>
          
          <div class="form-row">
            <div class="form-group half">
              <label for="storesL">Length (l):</label>
              <input type="number" id="storesL" step="0.1" value="1.7">
            </div>
            
            <div class="form-group half">
              <label for="storesW">Width (w):</label>
              <input type="number" id="storesW" step="0.1" value="0.7">
            </div>
          </div>
          
          <div class="form-row">
            <div class="form-group half">
              <label for="storesLwr">Lower (lwr):</label>
              <input type="number" id="storesLwr" step="0.01" value="0.25">
            </div>
            
            <div class="form-group half">
              <label for="storesUpr">Upper (upr):</label>
              <input type="number" id="storesUpr" step="0.01" value="0.75">
            </div>
          </div>
          
          <div class="form-group">
            <label for="storesR">Rotation (r):</label>
            <input type="number" id="storesR" value="180">
          </div>
        </div>
        
        <!-- Tills Form -->
        <!-- Tills Form -->
        <div id="tillsForm" class="location-type-form" style="display:none;">
          <h4>Till Location</h4>
          <div class="checkbox-container">
            <input type="checkbox" id="tillPropCheck" onchange="togglePropInput('tillPropCheck', 'tillPropContainer')">
            <label for="tillPropCheck">Spawn A Prop?</label>
          </div>
          <div id="tillPropContainer" class="form-group" style="display:none;">
            <label for="tillProp">Prop:</label>
            <input type="text" id="tillProp" placeholder="e.g. prop_crafting_table">
          </div>
          <!-- Add this new field for commission -->
          <div class="form-group">
            <label for="tillsCommission">Commission Rate:</label>
            <input type="number" id="tillsCommission" step="0.01" min="0" max="1" placeholder="e.g. 0.1 for 10%">
          </div>
          
          <div class="form-group">
            <label for="tillsLoc">Location (vector3):</label>
            <input type="text" id="tillsLoc" placeholder="e.g. vector3(380.22, -827.26, 29.4)" value="vector3(0.0, 0.0, 0.0)">
          </div>
          <div class="form-row">
            <div class="form-group half">
              <label for="tillsL">Length (l):</label>
              <input type="number" id="tillsL" step="0.1" value="0.5">
            </div>
            <div class="form-group half">
              <label for="tillsW">Width (w):</label>
              <input type="number" id="tillsW" step="0.1" value="0.7">
            </div>
          </div>
          <div class="form-row">
            <div class="form-group half">
              <label for="tillsLwr">Lower (lwr):</label>
              <input type="number" id="tillsLwr" step="0.01" value="0.25">
            </div>
            <div class="form-group half">
              <label for="tillsUpr">Upper (upr):</label>
              <input type="number" id="tillsUpr" step="0.01" value="0.75">
            </div>
          </div>
          <div class="form-group">
            <label for="tillsR">Rotation (r):</label>
            <input type="number" id="tillsR" value="180">
          </div>
        </div>
        
        <!-- Trays Form -->
        <div id="traysForm" class="location-type-form" style="display:none;">
          <h4>Tray Location</h4>
          
          <div class="form-group">
            <label for="traysLabel">Label:</label>
            <input type="text" id="traysLabel" placeholder="e.g. Open Tray" value="Open Tray">
          </div>
          
          <div class="checkbox-container">
            <input type="checkbox" id="traysPropCheck" onchange="toggleDropInput('traysPropCheck', 'traysPropContainer')">
            <label for="traysPropCheck">Has Prop?</label>
          </div>
          
          <div id="traysPropContainer" class="form-group" style="display:none;">
            <label for="traysProp">Prop:</label>
            <input type="text" id="traysProp" placeholder="e.g. prop_food_tray_01" value="prop_food_tray_01">
          </div>
          
          <div class="form-group">
            <label for="traysLoc">Location (vector3):</label>
            <input type="text" id="traysLoc" placeholder="e.g. vector3(379.24, -827.39, 29.28)" value="vector3(0.0, 0.0, 0.0)">
          </div>
          
          <div class="form-row">
            <div class="form-group half">
              <label for="traysL">Length (l):</label>
              <input type="number" id="traysL" step="0.1" value="0.5">
            </div>
            
            <div class="form-group half">
              <label for="traysW">Width (w):</label>
              <input type="number" id="traysW" step="0.1" value="0.5">
            </div>
          </div>
          
          <div class="form-row">
            <div class="form-group half">
              <label for="traysLwr">Lower (lwr):</label>
              <input type="number" id="traysLwr" step="0.01" value="0.10">
            </div>
            
            <div class="form-group half">
              <label for="traysUpr">Upper (upr):</label>
              <input type="number" id="traysUpr" step="0.01" value="0.25">
            </div>
          </div>
          
          <div class="form-group">
            <label for="traysR">Rotation (r):</label>
            <input type="number" id="traysR" value="90">
          </div>
          
          <div class="form-row">
            <div class="form-group half">
              <label for="traysSlots">Slots:</label>
              <input type="number" id="traysSlots" value="20">
            </div>
            
            <div class="form-group half">
              <label for="traysWeight">Weight:</label>
              <input type="number" id="traysWeight" value="100000">
            </div>
          </div>
        </div>
        
        <!-- Stash Form -->
        <div id="stashForm" class="location-type-form" style="display:none;">
          <h4>Stash Location</h4>
          
          <div class="form-group">
            <label for="stashLabel">Label:</label>
            <input type="text" id="stashLabel" placeholder="e.g. Dry Storage" value="Dry Storage">
          </div>
          
          <div class="checkbox-container">
            <input type="checkbox" id="stashPropCheck" onchange="togglePropInput('stashPropCheck', 'stashPropInput')">
            <label for="stashPropCheck">Has Prop?</label>
          </div>
          
          <div id="stashPropInput" class="form-group" style="display:none;">
            <label for="stashProp">Prop:</label>
            <input type="text" id="stashProp" placeholder="e.g. prop_cs_cardbox_01">
          </div>
          
          <div class="form-group">
            <label for="stashLoc">Location (vector3):</label>
            <input type="text" id="stashLoc" placeholder="e.g. vector3(377.07, -825.79, 29.06)" value="vector3(0.0, 0.0, 0.0)">
          </div>
          
          <div class="form-row">
            <div class="form-group half">
              <label for="stashL">Length (l):</label>
              <input type="number" id="stashL" step="0.1" value="1.7">
            </div>
            
            <div class="form-group half">
              <label for="stashW">Width (w):</label>
              <input type="number" id="stashW" step="0.1" value="0.7">
            </div>
          </div>
          
          <div class="form-row">
            <div class="form-group half">
              <label for="stashLwr">Lower (lwr):</label>
              <input type="number" id="stashLwr" step="0.01" value="0.25">
            </div>
            
            <div class="form-group half">
              <label for="stashUpr">Upper (upr):</label>
              <input type="number" id="stashUpr" step="0.01" value="0.75">
            </div>
          </div>
          
          <div class="form-group">
            <label for="stashR">Rotation (r):</label>
            <input type="number" id="stashR" value="180">
          </div>
          
          <div class="form-row">
            <div class="form-group half">
              <label for="stashSlots">Slots:</label>
              <input type="number" id="stashSlots" value="20">
            </div>
            
            <div class="form-group half">
              <label for="stashWeight">Weight:</label>
              <input type="number" id="stashWeight" value="100000">
            </div>
          </div>
        </div>
        
        <button id="addLocationBtn" class="primary-btn" style="display:none;">Add Location</button>
        
        <div id="locationsContainer" class="locations-container">
          <!-- Location items will be added here dynamically -->
        </div>
      </div>
    </div>
    <div class="option-block">
      <div class="checkbox-container">
        <label class="switch">
          <input type="checkbox" id="consumableCheckbox">
          <span class="slider"></span>
        </label>
        <label for="consumableCheckbox" class="switch-label">Consumable Maker Enabled</label>
      </div>
      <div id="consumableOptions" class="section-content">
        <h3>Consumable Items</h3>
        
        <div id="consumablesContainer"></div>
        <button class="primary-btn" id="addConsumableBtn">Add New Consumable</button>
      </div>
    </div>
    <button class="primary-btn export-btn pulse" onclick="downloadAllInputs()">
      <span class="material-icons">download</span>
      Export Job Configuration
    </button>
    <div class="footer glassmorphism">
      <p>This tool creates configuration files for in-game jobs.</p>
    </div>
  </div>
  <div id="statusNotification" class="status-notification">
    Operation completed successfully!
  </div>
  <script src="https://cdn.jsdelivr.net/npm/jszip@3.7.1/dist/jszip.min.js"></script>
  <script src="script.js"></script>
  <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
</body>
</html>
